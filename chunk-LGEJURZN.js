import{a as I}from"./chunk-GKEHRPNS.js";import{a as w}from"./chunk-4DHECZNB.js";import{e as C}from"./chunk-IJ4Z7FZT.js";import{$ as d,Db as y,Fa as s,Ga as v,I as S,Z as g,ab as M,da as m,fa as b,ga as O,ja as f,la as c,na as l,pa as t,pb as E,qa as n,ra as u,sb as k,tb as h,va as p}from"./chunk-YSNUVGWI.js";function x(r,_){if(r&1&&(t(0,"div",27)(1,"div",28)(2,"div"),s(3),n(),t(4,"div"),s(5),n(),t(6,"div"),s(7),n()()()),r&2){let i=_.$implicit;d(3),v(i._product==null?null:i._product.name),d(2),v(i._option==null?null:i._option.name),d(2),v(i.quantity)}}function j(r,_){if(r&1&&(t(0,"div",21)(1,"div",22)(2,"div",23),s(3," Lorem ipsum dolor sit amet consectetur adipisicing elit. "),n(),t(4,"div",24),s(5," Lorem ipsum dolor sit amet consectetur adipisicing elit. Mollitia voluptatum facilis sit necessitatibus, rem consectetur pariatur sapiente incidunt laudantium praesentium aut iste omnis suscipit autem deleniti, nisi temporibus obcaecati eligendi? "),n(),t(6,"div",25),f(7,x,8,3,"div",26),n()()()),r&2){let i=_.$implicit;d(7),c("ngForOf",i.products)}}var q=(()=>{class r{constructor(i,o,e){this.orderService=i,this.userService=o,this._http=e,this.isMenuOpen=!1,this.orderService.loaded.then(this.load.bind(this))}load(){this._http.get("/api/commerce/products"+this._query()).subscribe(i=>{i.forEach(o=>{o.quantity=o.options?.map(e=>e.quantity||0).reduce((e,a)=>e+a,0)}),this.orderService.commerceorders.flatMap(o=>o.products.map(e=>{e._product=i.find(a=>a._id===e.product?(e._option=a.options.find(F=>F._id===e.option),!0):!1)}))})}back(){window.history.back()}_query(){return"?_ids="+[...new Set(this.orderService.commerceorders.flatMap(i=>i.products.map(o=>o.product)))].toString()+(h.commerceId?"&commerce="+h.commerceId:"")}static{this.\u0275fac=function(o){return new(o||r)(m(I),m(w),m(y))}}static{this.\u0275cmp=b({type:r,selectors:[["ng-component"]],standalone:!1,decls:27,vars:8,consts:[[1,"documents-wrapper"],[1,"documents-container"],[1,"documents-list"],[1,"documents-header"],[1,"documents-header-left"],[1,"documents-header-left__arrow",3,"click"],[1,"material-icons"],["routerLink","/profile",1,"documents-header-left__avatar"],["alt","",3,"src"],[1,"documents-header__title"],[1,"burger-wrap",3,"click"],[1,"burger"],[1,"documents-sidebar"],[1,"documents-sidebar__close",3,"click"],[1,"documents-sidebar-content"],[1,"documents-sidebar__img"],["src","assets/default.png","alt",""],[1,"documents-sidebar__title"],[1,"documents-sidebar__description"],[1,"documents-main"],["class","documents-main-content",4,"ngFor","ngForOf"],[1,"documents-main-content"],[1,"documents-main-row"],[1,"documents__title"],[1,"documents__description"],[1,"documents-tags"],["class","documents-tags__wrap",4,"ngFor","ngForOf"],[1,"documents-tags__wrap"],[1,"documents-tags__item"]],template:function(o,e){o&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),p("click",function(){return e.back()}),t(6,"span",6),s(7,"arrow_back_ios"),n()(),t(8,"div",7),u(9,"img",8),n()(),t(10,"div",9),s(11,"Title header"),n(),t(12,"div",10),p("click",function(){return e.isMenuOpen=!e.isMenuOpen}),u(13,"div",11),n()(),t(14,"div",12)(15,"div",13),p("click",function(){return e.isMenuOpen=!e.isMenuOpen}),t(16,"span",6),s(17,"close"),n()(),t(18,"div",14)(19,"div",15),u(20,"img",16),n(),t(21,"div",17),s(22," Title of sidebar... "),n(),t(23,"div",18),s(24," Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint molestiae consequatur quae. Modi corporis rem amet tempore debitis assumenda minima repellat labore expedita quam. Itaque accusamus culpa ullam necessitatibus nisi. "),n()()(),t(25,"div",19),f(26,j,8,1,"div",20),n()()()()),o&2&&(l("documents-wrapper--open",e.isMenuOpen),d(9),c("src",e.userService.thumb,g),d(4),l("burger--close",e.isMenuOpen),d(),l("documents-sidebar--open",e.isMenuOpen),d(12),c("ngForOf",e.orderService.commerceorders))},dependencies:[E,M],encapsulation:2})}}return r})();var L=[{path:"",component:q}],G=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=O({type:r})}static{this.\u0275inj=S({imports:[k.forChild(L),C]})}}return r})();export{G as OrdersModule};
