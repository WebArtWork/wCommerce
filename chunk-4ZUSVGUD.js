import{e as N}from"./chunk-IJ4Z7FZT.js";import{$ as u,Aa as I,Eb as j,Fa as S,Fb as M,Ga as k,H as v,I as C,Lb as D,P as d,Q as _,Rb as V,Sb as z,Ub as E,Z as l,ab as P,bb as T,da as c,fa as w,ga as x,ja as p,la as a,pa as s,qa as m,sb as F,ua as g,va as y,wa as f,zb as b}from"./chunk-YSNUVGWI.js";var $={formId:"commercelotteryparticipant",title:"Commercelotteryparticipant",components:[{name:"Text",key:"name",focused:!0,fields:[{name:"Placeholder",value:"fill commercelotteryparticipant title"},{name:"Label",value:"Title"}]},{name:"Text",key:"description",fields:[{name:"Placeholder",value:"fill commercelotteryparticipant description"},{name:"Label",value:"Description"}]}]};var B=(()=>{class t extends M{constructor(){super({name:"commercelotteryparticipant"}),this.commercelotteryparticipants=this.getDocs(),this.commercelotteryparticipantsByAuthor={},this.get(),this.filteredDocuments(this.commercelotteryparticipantsByAuthor)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function L(t,n){if(t&1&&(s(0,"a",4),S(1),m()),t&2){let e=n.$implicit;I("href","tel:",e.phone,"",l),u(),k(e.phone)}}function R(t,n){if(t&1){let e=g();s(0,"img",6),y("click",function(){let i=d(e).$implicit,o=f(2);return _(o.fullImage=i)}),m()}if(t&2){let e=n.$implicit;a("src",e,l)}}function q(t,n){if(t&1&&p(0,R,1,1,"img",5),t&2){let e=n.$implicit;a("ngForOf",e.screenshots)}}function G(t,n){if(t&1){let e=g();s(0,"img",7),y("click",function(){d(e);let i=f();return _(i.fullImage="")}),m()}if(t&2){let e=f();a("src",e.fullImage,l)}}var O=(()=>{class t{get rows(){return this._commercelotteryparticipantService.commercelotteryparticipants}constructor(e,r,i,o,h){this._translate=e,this._commercelotteryparticipantService=r,this._alert=i,this._form=o,this._core=h,this.columns=["phone","google","telegram","screenshots","stores"],this.fullImage="",this.form=this._form.getForm("commercelotteryparticipant",$),this.config={buttons:[],headerButtons:[{icon:"playlist_add",click:this._bulkManagement(),class:"playlist"}]}}_bulkManagement(e=!0){return()=>{this._form.modalDocs(e?[]:this.rows).then(r=>{if(e)for(let i of r)this._preCreate(i),this._commercelotteryparticipantService.create(i);else{for(let i of this.rows)r.find(o=>o._id===i._id)||this._commercelotteryparticipantService.delete(i);for(let i of r){let o=this.rows.find(h=>h._id===i._id);o?(this._core.copy(i,o),this._commercelotteryparticipantService.update(o)):(this._preCreate(i),this._commercelotteryparticipantService.create(i))}}})}}_preCreate(e){delete e.__created}static{this.\u0275fac=function(r){return new(r||t)(c(D),c(B),c(j),c(E),c(b))}}static{this.\u0275cmp=w({type:t,selectors:[["ng-component"]],standalone:!1,decls:4,vars:4,consts:[["title","Participants",3,"columns","config","rows"],["cell","phone"],["cell","screenshots"],["style",`
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		z-index: 99999999999999;
	`,3,"src","click",4,"ngIf"],[3,"href"],["height","50","widht","50",3,"src","click",4,"ngFor","ngForOf"],["height","50","widht","50",3,"click","src"],[2,"position","fixed","top","0","left","0","width","100%","height","100%","z-index","99999999999999",3,"click","src"]],template:function(r,i){r&1&&(s(0,"wtable",0),p(1,L,2,3,"ng-template",1)(2,q,1,1,"ng-template",2),m(),p(3,G,1,1,"img",3)),r&2&&(a("columns",i.columns)("config",i.config)("rows",i.rows),u(3),a("ngIf",i.fullImage))},dependencies:[P,T,z,V],encapsulation:2})}}return t})();var H=[{path:"",component:O}],ct=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=x({type:t})}static{this.\u0275inj=C({imports:[F.forChild(H),N]})}}return t})();export{ct as ParticipantsModule};
