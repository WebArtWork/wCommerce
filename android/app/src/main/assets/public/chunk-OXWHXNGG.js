import{a as F}from"./chunk-6J5NV3R3.js";import{e as w}from"./chunk-QJDHHX4S.js";import{Bb as y,L as m,M as d,N as u,S as f,Y as h,Za as p,_a as a,fb as _,kb as v,s as l,sb as C,zb as g}from"./chunk-CNPABYXW.js";var S={formId:"commerce",title:"Commerce",components:[{name:"Text",key:"name",focused:!0,fields:[{name:"Placeholder",value:"fill commerce title"},{name:"Label",value:"Title"}]},{name:"Text",key:"description",fields:[{name:"Placeholder",value:"fill commerce description"},{name:"Label",value:"Description"}]}]};var b=(()=>{class t{get rows(){return this._commerceService.commerces}constructor(c,r,o,i,n){this._translate=c,this._commerceService=r,this._alert=o,this._form=i,this._core=n,this.columns=["name","description"],this.form=this._form.getForm("commerce",S),this.config={create:()=>{this._form.modal(this.form,{label:"Create",click:(e,s)=>{this._commerceService.create(e),s()}})},update:e=>{this._form.modal(this.form,[],e).then(s=>{this._core.copy(s,e),this._commerceService.update(e)})},delete:e=>{this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this commerce?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._commerceService.delete(e)}}]})},buttons:[a.commerceArticleUrl?{icon:"article",hrefFunc:e=>a.commerceArticleUrl+"/Commerce/"+e._id}:null,{icon:"list_alt",hrefFunc:e=>"/commerce/commerceorders/"+e._id},{icon:"store",hrefFunc:e=>"/commerce/commercestores/"+e._id},{icon:"home",hrefFunc:e=>"/commerce/commercewarehouses/"+e._id},{icon:"production_quantity_limits",hrefFunc:e=>"/commerce/commerceproducts/"+e._id},{icon:"room_service",hrefFunc:e=>"/commerce/commerceservices/"+e._id},{icon:"photo_camera",hrefFunc:e=>"/commerce/commerceportfolios/"+e._id},{icon:"content_paste",hrefFunc:e=>"/commerce/commercecontents/"+e._id},{icon:"style",hrefFunc:e=>"/commerce/commercetags/"+e._id},{icon:"branding_watermark",hrefFunc:e=>"/commerce/commercebrands/"+e._id},{icon:"percent",hrefFunc:e=>"/commerce/commercediscounts/"+e._id},{icon:"cloud_download",click:e=>{this._form.modalUnique("commerce","url",e)}}],headerButtons:[{icon:"playlist_add",click:this._bulkManagement(),class:"playlist"},{icon:"edit_note",click:this._bulkManagement(!1),class:"edit"}]}}_bulkManagement(c=!0){return()=>{this._form.modalDocs(c?[]:this.rows).then(r=>{if(c)for(let o of r)this._commerceService.create(o);else{for(let o of this.rows)r.find(i=>i._id===o._id)||this._commerceService.delete(o);for(let o of r){let i=this.rows.find(n=>n._id===o._id);i?(this._core.copy(o,i),this._commerceService.update(i)):(o.__created=!1,this._commerceService.create(o))}}})}}static{this.\u0275fac=function(r){return new(r||t)(m(C),m(F),m(v),m(y),m(_))}}static{this.\u0275cmp=d({type:t,selectors:[["ng-component"]],standalone:!1,decls:1,vars:3,consts:[["title","Commerces",3,"columns","config","rows"]],template:function(r,o){r&1&&h(0,"wtable",0),r&2&&f("columns",o.columns)("config",o.config)("rows",o.rows)},dependencies:[g],encapsulation:2})}}return t})();var M=[{path:"",component:b}],R=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=u({type:t})}static{this.\u0275inj=l({imports:[p.forChild(M),w]})}}return t})();export{R as CommercesModule};
